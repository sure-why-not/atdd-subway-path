# 지하철 경로 조회 🚈

## 1단계 기능 요구 사항

### 경로 조회 기능 API

- [x] 최단 경로 조회 기능
    - [x] 동일한 역의 경로일 경우 에러 응답
    - [x] 이동할 수 없는 경로일 경우 에러 응답

#### 요금 계산 방법

- 기본운임(10㎞ 이내): 기본운임 1,250원
- 이용 거리 초과 시 추가운임 부과
- 10km~50km: 5km 까지 마다 100원 추가
- 50km 초과: 8km 까지 마다 100원 추가

```
9km = 1250원
12km = 10km + 2km = 1350원
16km = 10km + 6km = 1450원
58km = 10km + 40km + 8km = 2150원
```

### 최단 경로 라이브러리 사용

- jgrapht 라이브러리를 활용하면 간편하게 최단거리를 조회할 수 있음
- 정점(vertex)과 간선(edge), 그리고 가중치 개념을 이용
- 정점: 지하철역(Station)
- 간선: 지하철역 연결정보(Section)
- 가중치: 거리
- 최단 거리 기준 조회 시 가중치를 거리로 설정

---

## 필요 기능

- 모든 노선 정보를 가지고 맵을 만든다.
- 출발역과 도착역의 경로와 거리를 얻어온다.
- 해당 거리에 대한 비용을 계산한다.
- 경로, 거리, 비용을 포함하는 결과를 응답한다.

## 도메인 설계

#### 지하철 노선도 (SubwayMap)

- 모든 노선 정보를 가지고 있다.
- 출발역과 도착역이 주어지면 최단 경로와 거리를 계산한다.

---

## 2단계 기능 요구 사항

- [x] 요금 계산시 추가 요금이 있는 노선을 이용 할 경우 추가 요금을 더해서 계산한다.
- [x] 요금 계산시 나이에 따른 추가 요금을 더해서 계산한다.

### 추가된 요금 정책
**노선별 추가 요금**
- 추가 요금이 있는 노선을 이용 할 경우 측정된 요금에 추가
  - ex) 900원 추가 요금이 있는 노선 8km 이용 시 1,250원 -> 2,150원
  - ex) 900원 추가 요금이 있는 노선 12km 이용 시 1,350원 -> 2,250원
- 경로 중 추가요금이 있는 노선을 환승 하여 이용 할 경우 가장 높은 금액의 추가 요금만 적용
  - ex) 0원, 500원, 900원의 추가 요금이 있는 노선들을 경유하여 8km 이용 시 1,250원 -> 2,150원 

**연령별 요금 할인**
- `청소년: 13세 이상 ~ 19세 미만`
- `어린이: 06세 이상 ~ 13세 미만`
- 청소년: 운임에서 350원을 공제한 금액의 20%할인 
- 어린이: 운임에서 350원을 공제한 금액의 50%할인


---

## 🧑🏻‍💻 릭 & 라라 페어 컨벤션 👩🏻‍💻

### 페어 프로그래밍

- 50분 개발, 10분 휴식
- 테스트 코드를 먼저 작성하고 프로덕션 코드 작성하기 !!

### 소셜

- 질문에 꼭 대답하기
- 서로의 다른 의견에 존중하기
- 다른 크루들의 코드에 흔들리지 않기
- 우리 코드가 짱이다 ! 👍

### 코드 컨벤션

- 클래스 선언부 한 줄 띄기
  - 깔끔함이 생명 🤓
- 필요한 상황에만 공백을 넣기
  - 깔끔함이 생명 🤓
- 변경되지 않는다면 final 키워드로 선언
  - read-only 로 선언하여 side effect 줄이기
- 테스트 메서드는 `(테스트 메서드 이름)_(상황)_(반환값)` 형식으로 네이밍 작성
  - DisplayName 뿐만 아니라 메서드 네임으로도 테스트 설명이 전달되도록 하기
